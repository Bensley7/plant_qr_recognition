<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Fiche botanique</title>
  <style>
    body { font-family: sans-serif; padding: 30px; line-height: 1.6; }
    img { margin: 10px 0; max-width: 400px; }
    h2 { margin-bottom: 20px; }
    .section-title { margin-top: 30px; color: #1a4d2e; font-size: 1.3em; border-bottom: 1px solid #ccc; }
    .field { margin-bottom: 10px; }
    .field strong { display: inline-block; width: 240px; color: #444; }
    ul { margin-top: 5px; }
  </style>
</head>
<body>

  {% if plant %}
    <h2>{{ plant["Nom scientifique"] }} ({{ plant["Nom fran√ßais"] }})</h2>

    {% for key, value in plant.items() %}
    {% if key == "Code" and value %}
    <div class="field">
      <strong>{{ key }} :</strong> {{ value }}
    </div>
    {% endif %}
    {% endfor %}

    {% for key, value in plant.items() %}
    {% if key in ["Nom arabe", "Noms vernaculaires", "Origine g√©ographique"] and value %}
    <div class="field">
      <strong>{{ key }} :</strong> {{ value }}
    </div>
    {% endif %}
    {% endfor %}

    <div class="section-title">üß¨ Classification </div>
    {% for key, value in plant.items() %}
      {% if key in ["Division", "Classe", "Ordre", "Famille", "Genre", "Type de plante"] and value %}
      <div class="field">
        <strong>{{ key }} :</strong> {{ value }}
      </div>
      {% endif %}
    {% endfor %}

    <div class="section-title">üî¨ Description botanique </div>
    {% for key, value in plant.items() %}
      {% if key in ["Type de feuillage",	"Hauteur moyenne ou maximale", "Type de feuilles",	"Forme des feuilles", "Bord des feuilles",	"Disposition des feuilles",	"Couleur des fleurs",	"Structure florale",	"Type de fruit",	"Type de racine"]
        and value %}
      <div class="field">
        <strong>{{ key }} :</strong> {{ value }}
      </div>
      {% endif %}
    {% endfor %}
  
    <div class="section-title">üå¶Ô∏è Informations ph√©nologiques </div>
    {% for key, value in plant.items() %}
      {% if key in ["Mois de d√©bourrement",	"P√©riode de croissance v√©g√©tative",	"P√©riode de floraison",	"P√©riode de fructification",	"P√©riode de maturit√© des fruits",	"P√©riode de chute des feuilles"]
        and value %}
      <div class="field">
        <strong>{{ key }} :</strong> {{ value }}
      </div>
      {% endif %}
    {% endfor %}

    <div class="section-title">üåø Int√©r√™ts </div>
    {% for key, value in plant.items() %}
    {% if key == "int√©r√™ts" and value %}
      <ul>
        {% for item in value %}
          <li>{{ item }}</li>
        {% endfor %}
      </ul>
    {% endif %}
    {% endfor %}

    <div class="section-title">üñºÔ∏è Images & üó∫Ô∏è Carte de r√©partition</div>

    <div style="display: flex; gap: 20px; flex-wrap: wrap; align-items: flex-start;">
    
      {% if plant.image %}
      <div style="flex: 1; min-width: 300px;">
        {% for img in plant.image %}
          <img src="{{ url_for('static', filename=img) }}" alt="Photo de l'esp√®ce" style="width: 100%; max-width: 400px;">
        {% endfor %}
        <div style="font-size: 0.9em; color: #666; margin-top: 5px;">
          Photos prises de l'ENS de F√®s le 19/03/2025.
        </div>
      </div>
      {% endif %}
    
      {% if plant.map %}
      <div style="flex: 1; min-width: 300px;">
        <img src="{{ url_for('static', filename=plant.map) }}" alt="Carte de r√©partition" style="width: 100%; max-width: 400px;">
        {% if plant["Url carte de r√©partition"] %}
        <div style="font-size: 0.9em; color: #666; margin-top: 5px;">
          Source : <a href="{{ plant['Url carte de r√©partition'] }}" target="_blank">{{ plant['Url carte de r√©partition'] }}</a>
        </div>
        {% endif %}
      </div>
      {% endif %}
    
    </div>

  {% else %}
    <p>Esp√®ce non trouv√©e : {{ code }}</p>
  {% endif %}

</body>
</html>
